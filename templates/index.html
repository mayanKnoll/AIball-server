<!DOCTYPE html>
<html lang="en">
    <style>
        h1 {
        border: 2px #eee solid;
        color: brown;
        text-align: center;
        padding: 10px;
    }
    
    h2 {
        color: black;
        text-align: center;
        /* padding: 10px; */
    }
    
    p {
        font-size: large;
        font-family: 'Poppins', sans-serif;
        color: black;
        text-align: center;
        padding: 5px;
    }
    
    
    .error {
        font-family: 'Cardo', serif;
        color: red;
        text-align: center;
        padding: 5px;
    }
    
    form {
        /* border: 1px #eee solid; */
        color: blue;
        text-align: center;
        padding: 5px;
    }
    
    table {
        margin-left: auto;
        margin-right: auto;
        color: black;
        text-align: center;
        padding: 5px;
    }
    
    td {
        font-weight: normal;
        border: 3px #eee solid; 
        color: black;
        text-align: center;
        padding: 5px;
    }
    
    
    .win {
        font-weight: normal;
        border: 3px green solid; 
        color: black;
        text-align: center;
        padding: 5px;
    }
    .lose {
        font-weight: normal;
        border: 3px red solid; 
        color: black;
        text-align: center;
        padding: 5px;
    }
    
    
    th {
        font-weight: bold;
        border: 3px black solid; 
        color: black;
        text-align: center;
        padding: 5px;
    }
    </style>
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="{{ url_for('static', filename= 'css/style.css') }}">
    <title>FlaskBlog</title>
</head>

<body>
    <script src="https://code.jquery.com/jquery-3.5.0.js"></script>
    <h1>AI-ball</h1>
    <p>enter group name:</p>
    <div class="form">
        <form action="/" method="POST">
            <input type="text" name="content" id="content">
            <input type="submit" value="send">
        </form>
        <div id="text" hidden=true>{{text}}</div>
        <h2 id="head"></h2>
        <table id="teams"></table>
        <script>
            text = document.getElementById("text").innerText
            console.log(text)
            if (text.length == 0 || text[1] != '{') {
                data = "<p class=\"error\">"
                if (text.length != 0 && text[0] == '{') {
                    data += text
                }
                else {
                    data += "this is not a good group name"
                }
                data += "</p>"
                console.log(text)
                document.getElementById("teams").innerHTML = data
            }
            else {            
                table = document.getElementById("teams")                
                tr = document.createElement("tr");
                table.append(tr)
                th = document.createElement("th");
                tr.append(th);
                th.append("date")
                th = document.createElement("th");
                tr.append(th);
                th.append("home group")
                th = document.createElement("th");
                tr.append(th);
                th.append("visitor group")
                json = JSON.parse(text)
                flag = true
                for (var line of json){
                    head = document.getElementById("head") 
                    if (flag) {
                        head.append(line.head);   
                        flag = false
                    }
                    tr = document.createElement("tr");
                    table.append(tr)
                    td = document.createElement("td");
                    tr.append(td);
                    td.append(line.date);
                    td = document.createElement("td");
                    score = parseInt(line.score);
                    tr.append(td);
                    td.append(line.home_group);
                    if (score > 50) td.className = "win"
                    else td.className = "lose"
                    td = document.createElement("td");
                    tr.append(td);
                    td.append(line.visitor_group);
                    if (score < 50) td.className = "win"
                    else td.className = "lose"
                }
            }
        </script>
</body>

</html>